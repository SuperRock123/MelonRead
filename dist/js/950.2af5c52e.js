"use strict";(self["webpackChunkmelonread_vue_test2"]=self["webpackChunkmelonread_vue_test2"]||[]).push([[950],{3950:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"publish_vue"}},[e("van-nav-bar",{attrs:{title:"编辑文章","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-cell-group",[e("van-field",{attrs:{label:"标题",placeholder:"输入标题"},model:{value:t.article.title,callback:function(e){t.$set(t.article,"title",e)},expression:"article.title"}}),e("van-field",{attrs:{rows:"10",autosize:"",label:"正文",type:"textarea",maxlength:"400",placeholder:"请输入正文","show-word-limit":""},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}}),e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.onSave}},[t._v("保存")]),e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, #ff6034, #ee0a24)"},on:{click:t.onDelete}},[t._v("删除")])],1)],1)},l=[],i=a(4754),o=a(316),r=a(4380),c={name:"publish_vue",data:()=>({article:{}}),methods:{async onSave(){const t=await(0,i.iZ)(this.article.title,this.article.content,this.article.articleId);200===t.code&&((0,o.A)({message:"保存成功",color:"#ad0000",background:"#ffe1e1"}),this.$router.go(-1))},async onDelete(){r.A.confirm({title:"确认删除",message:"此操作不可撤销"}).then((async()=>{const t=await(0,i.a)(this.article.articleId);200===t.code&&((0,o.A)({message:"删除成功",color:"#ad0000",background:"#ffe1e1"}),this.$router.go(-1))})).catch((()=>{}))}},async created(){const t=await(0,i.zE)(this.$route.query.id);this.article=t.data,console.log(typeof this.hasLoggedin,this.hasLoggedin)}},s=c,u=a(1656),d=(0,u.A)(s,n,l,!1,null,"06565718",null),h=d.exports}}]);
//# sourceMappingURL=950.2af5c52e.js.map