{"version":3,"file":"js/950.2af5c52e.js","mappings":"kLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAON,EAAIO,QAAQC,IAAI,EAAE,KAAKN,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,KAAK,YAAc,QAAQK,MAAM,CAACC,MAAOV,EAAIW,QAAQC,MAAOC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,QAAS,QAASG,EAAI,EAAEE,WAAW,mBAAmBd,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,KAAK,SAAW,GAAG,MAAQ,KAAK,KAAO,WAAW,UAAY,MAAM,YAAc,QAAQ,kBAAkB,IAAIK,MAAM,CAACC,MAAOV,EAAIW,QAAQM,QAASJ,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,QAAS,UAAWG,EAAI,EAAEE,WAAW,qBAAqBd,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,UAAUC,GAAG,CAAC,MAAQL,EAAIkB,SAAS,CAAClB,EAAImB,GAAG,QAAQjB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,SAAS,MAAQ,+CAA+CC,GAAG,CAAC,MAAQL,EAAIoB,WAAW,CAACpB,EAAImB,GAAG,SAAS,IAAI,EACxgC,EACIE,EAAkB,G,6BCCtB,GACAC,KAAA,cACAC,KAAAA,KACA,CACAZ,QAAA,KAIAa,QAAA,CACA,YAAAN,GACA,MAAAO,QAAAC,EAAAA,EAAAA,IAAA,KAAAf,QAAAC,MAAA,KAAAD,QAAAM,QAAA,KAAAN,QAAAgB,WAEA,MAAAF,EAAAG,QACAC,EAAAA,EAAAA,GAAA,CACAC,QAAA,OACAC,MAAA,UACAC,WAAA,YAEA,KAAAzB,QAAAC,IAAA,GAEA,EACA,cAAAY,GACAa,EAAAA,EAAAC,QAAA,CACAtB,MAAA,OACAkB,QAAA,YAEAK,MAAA,UAEA,MAAAV,QAAAW,EAAAA,EAAAA,GAAA,KAAAzB,QAAAgB,WAEA,MAAAF,EAAAG,QACAC,EAAAA,EAAAA,GAAA,CACAC,QAAA,OACAC,MAAA,UACAC,WAAA,YAEA,KAAAzB,QAAAC,IAAA,GACA,IAEA6B,OAAA,QAGA,GAEA,aAAAC,GACA,MAAAb,QAAAc,EAAAA,EAAAA,IAAA,KAAAC,OAAAC,MAAAC,IAEA,KAAA/B,QAAAc,EAAAF,KACAoB,QAAAC,WAAA,KAAAC,YAAA,KAAAA,YACA,GCpDsQ,I,UCOlQC,GAAY,OACd,EACA/C,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAeyB,EAAiB,O","sources":["webpack://melonread_vue_test2/./src/view/passage/edit/index.vue","webpack://melonread_vue_test2/src/view/passage/edit/index.vue","webpack://melonread_vue_test2/./src/view/passage/edit/index.vue?c54c","webpack://melonread_vue_test2/./src/view/passage/edit/index.vue?cd42"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"publish_vue\"}},[_c('van-nav-bar',{attrs:{\"title\":\"编辑文章\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"标题\",\"placeholder\":\"输入标题\"},model:{value:(_vm.article.title),callback:function ($$v) {_vm.$set(_vm.article, \"title\", $$v)},expression:\"article.title\"}}),_c('van-field',{attrs:{\"rows\":\"10\",\"autosize\":\"\",\"label\":\"正文\",\"type\":\"textarea\",\"maxlength\":\"400\",\"placeholder\":\"请输入正文\",\"show-word-limit\":\"\"},model:{value:(_vm.article.content),callback:function ($$v) {_vm.$set(_vm.article, \"content\", $$v)},expression:\"article.content\"}}),_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"},on:{\"click\":_vm.onSave}},[_vm._v(\"保存\")]),_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\",\"color\":\"linear-gradient(to right, #ff6034, #ee0a24)\"},on:{\"click\":_vm.onDelete}},[_vm._v(\"删除\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport { getArticleById, updateArticle, deleteArticle } from '@/api/article'\r\nimport { Notify, Dialog } from 'vant'\r\nexport default {\r\n  name: 'publish_vue',\r\n  data: () => {\r\n    return {\r\n      article: {}\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    async onSave () {\r\n      const res = await updateArticle(this.article.title, this.article.content, this.article.articleId)\r\n      //   console.log(res)\r\n      if (res.code === 200) {\r\n        Notify({\r\n          message: '保存成功',\r\n          color: '#ad0000',\r\n          background: '#ffe1e1'\r\n        })\r\n        this.$router.go(-1)\r\n      }\r\n    },\r\n    async onDelete () {\r\n      Dialog.confirm({\r\n        title: '确认删除',\r\n        message: '此操作不可撤销'\r\n      })\r\n        .then(async () => {\r\n          // on confirm\r\n          const res = await deleteArticle(this.article.articleId)\r\n          //   console.log(res)\r\n          if (res.code === 200) {\r\n            Notify({\r\n              message: '删除成功',\r\n              color: '#ad0000',\r\n              background: '#ffe1e1'\r\n            })\r\n            this.$router.go(-1)\r\n          }\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        })\r\n    }\r\n  },\r\n  async created () {\r\n    const res = await getArticleById(this.$route.query.id)\r\n    // console.log(res)\r\n    this.article = res.data\r\n    console.log(typeof this.hasLoggedin, this.hasLoggedin)\r\n  }\r\n}\r\n</script>\r\n<template>\r\n    <div id=\"publish_vue\">\r\n        <van-nav-bar\r\n        title=\"编辑文章\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n        />\r\n        <van-cell-group>\r\n          <van-field v-model=\"article.title\" label=\"标题\" placeholder=\"输入标题\" />\r\n          <van-field\r\n          v-model=\"article.content\"\r\n          rows=\"10\"\r\n          autosize\r\n          label=\"正文\"\r\n          type=\"textarea\"\r\n          maxlength=\"400\"\r\n          placeholder=\"请输入正文\"\r\n          show-word-limit />\r\n          <van-button round block type=\"info\" native-type=\"submit\" @click=\"onSave\">保存</van-button>\r\n          <van-button round block type=\"info\" native-type=\"submit\" @click=\"onDelete\" color=\"linear-gradient(to right, #ff6034, #ee0a24)\">删除</van-button>\r\n        </van-cell-group>\r\n    </div>\r\n</template>\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=06565718&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06565718\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","go","model","value","article","title","callback","$$v","$set","expression","content","onSave","_v","onDelete","staticRenderFns","name","data","methods","res","updateArticle","articleId","code","Notify","message","color","background","Dialog","confirm","then","deleteArticle","catch","created","getArticleById","$route","query","id","console","log","hasLoggedin","component"],"sourceRoot":""}