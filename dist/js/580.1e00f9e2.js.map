{"version":3,"file":"js/580.1e00f9e2.js","mappings":"kLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAON,EAAIO,QAAQC,IAAI,EAAE,KAAKN,EAAG,WAAW,CAACG,GAAG,CAAC,OAASL,EAAIS,WAAW,CAACP,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,MAAM,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAAC,CAAEM,UAAU,EAAMC,QAAS,YAAaC,MAAM,CAACC,MAAOb,EAAIc,SAAUC,SAAS,SAAUC,GAAMhB,EAAIc,SAASE,CAAG,EAAEC,WAAW,cAAcf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEM,UAAU,EAAMC,QAAS,WAAYC,MAAM,CAACC,MAAOb,EAAIkB,SAAUH,SAAS,SAAUC,GAAMhB,EAAIkB,SAASF,CAAG,EAAEC,WAAW,cAAcf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQe,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACpB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,UAAUQ,MAAM,CAACC,MAAOb,EAAIuB,WAAYR,SAAS,SAAUC,GAAMhB,EAAIuB,WAAWP,CAAG,EAAEC,WAAW,gBAAgB,EAAEO,OAAM,OAAUtB,EAAG,MAAM,CAACuB,YAAY,CAAC,OAAS,SAAS,CAACvB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,UAAUC,GAAG,CAAC,MAAQL,EAAI0B,UAAU,CAAC1B,EAAI2B,GAAG,SAAS,GAAGzB,EAAG,MAAM,CAACuB,YAAY,CAAC,OAAS,SAAS,CAACvB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,UAAU,GAAK,cAAc,CAACJ,EAAI2B,GAAG,SAAS,IAAI,IAAI,EACpxC,EACIC,EAAkB,G,6BCCtB,GACAC,KAAA,aACAC,IAAAA,GACA,OACAhB,SAAA,GACAI,SAAA,GACAa,SAAA,EACAR,YAAA,EAEA,EACAS,QAAA,CACAvB,QAAAA,CAAAwB,GACAC,QAAAC,IAAA,SAAAF,EACA,EACAG,WAAAA,GACA,EAEA,aAAAV,GAEA,aAAAZ,UAAA,UAAAI,SAAA,OACA,MAAAmB,QAAAC,EAAAA,EAAAA,IAAA,KAAAxB,SAAA,KAAAI,UAEA,MAAAmB,EAAAE,QACA,SAAAhB,YAEAiB,EAAAA,EAAAA,IAAAH,EAAAP,OAGAW,EAAAA,EAAAA,MAGA,KAAAlC,QAAAmC,KAAA,SAEA,ICpC6P,I,UCQzPC,GAAY,OACd,EACA5C,EACA6B,GACA,EACA,KACA,KACA,MAIF,EAAee,EAAiB,O","sources":["webpack://melonread_vue_test2/./src/view/user/login.vue","webpack://melonread_vue_test2/src/view/user/login.vue","webpack://melonread_vue_test2/./src/view/user/login.vue?c7fc","webpack://melonread_vue_test2/./src/view/user/login.vue?2270"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"用户登录\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"用户名\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"name\":\"checkbox\",\"label\":\"自动登录\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-checkbox',{attrs:{\"shape\":\"square\"},model:{value:(_vm.rememberMe),callback:function ($$v) {_vm.rememberMe=$$v},expression:\"rememberMe\"}})]},proxy:true}])}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"},on:{\"click\":_vm.onLogin}},[_vm._v(\"登录\")])],1),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"primary\",\"to\":\"/register\"}},[_vm._v(\"注册\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport { login } from '@/api/user'\r\nimport { putUser, clearUser } from '@/util/local'\r\nexport default {\r\n  name: 'user_login',\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      checked: true,\r\n      rememberMe: true\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit (values) {\r\n      console.log('submit', values)\r\n    },\r\n    onclickLeft () {\r\n      // console.log('left')\r\n    },\r\n    async onLogin () {\r\n      // 用户登录js逻辑\r\n      if (this.username === '' || this.password === '') { return }\r\n      const res = await login(this.username, this.password)\r\n      // console.log(res)\r\n      if (res.code === 200) {\r\n        if (this.rememberMe === true) {\r\n          // 通过localstorage持久化用户数据\r\n          putUser(res.data)\r\n        } else {\r\n          // 清除localstorage数据\r\n          clearUser()\r\n        }\r\n        // 页面跳转\r\n        this.$router.push('/home')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<template>\r\n    <div>\r\n        <van-nav-bar\r\n        title=\"用户登录\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"$router.go(-1)\"\r\n        />\r\n        <van-form @submit=\"onSubmit\">\r\n            <van-field\r\n                v-model=\"username\"\r\n                name=\"用户名\"\r\n                label=\"用户名\"\r\n                placeholder=\"用户名\"\r\n                :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n            />\r\n            <van-field\r\n                v-model=\"password\"\r\n                type=\"password\"\r\n                name=\"密码\"\r\n                label=\"密码\"\r\n                placeholder=\"密码\"\r\n                :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n            />\r\n            <van-field name=\"checkbox\" label=\"自动登录\">\r\n              <template #input>\r\n                <van-checkbox v-model=\"rememberMe\" shape=\"square\" />\r\n              </template>\r\n            </van-field>\r\n            <div style=\"margin: 16px;\">\r\n                <van-button round block type=\"info\" native-type=\"submit\" @click=\"onLogin\">登录</van-button>\r\n            </div>\r\n            <div style=\"margin: 16px;\">\r\n              <van-button round block type=\"primary\" to=\"/register\">注册</van-button>\r\n            </div>\r\n            </van-form>\r\n    </div>\r\n</template>\r\n<style>\r\n.van-form{\r\n    margin-top: 30px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=64e21a8b\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=64e21a8b&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","go","onSubmit","required","message","model","value","username","callback","$$v","expression","password","scopedSlots","_u","key","fn","rememberMe","proxy","staticStyle","onLogin","_v","staticRenderFns","name","data","checked","methods","values","console","log","onclickLeft","res","login","code","putUser","clearUser","push","component"],"sourceRoot":""}