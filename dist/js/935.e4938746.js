"use strict";(self["webpackChunkmelonread_vue_test2"]=self["webpackChunkmelonread_vue_test2"]||[]).push([[935],{935:function(t,e,r){r.r(e),r.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"search_vue"}},[e("van-nav-bar",{attrs:{title:"搜索","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{click:t.onSearch,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),e("div",{staticClass:"history"},[e("span",[t._v("历史")]),e("van-icon",{attrs:{name:"delete-o"},on:{click:t.deleteHistory}})],1),e("div",{staticClass:"list"},t._l(t.searchHistory,(function(r){return e("div",{key:r,staticClass:"list-item",on:{click:function(e){return t.handleSearchClick(r)}}},[t._v(t._s(r))])})),0),e("hot-search",{staticClass:"animate__animated animate__bounceInUp",attrs:{list:t.hotSearchList}})],1)},a=[],i=(r(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"hot-search"},[e("ul",t._l(t.list,(function(r,s){return e("li",{key:s,class:["search-item",{highlight:s<3}]},[e("span",{staticClass:"index"},[t._v(t._s(s+1))]),e("span",{staticClass:"title"},[t._v(t._s(r.article.article_title))])])})),0)])}),c=[],n=(r(8992),r(3215),{name:"HotSearch",props:{list:{type:Array,required:!0,validator(t){return t.every((t=>t.article&&t.article.article_title))}}}}),l=n,o=r(1656),h=(0,o.A)(l,i,c,!1,null,"44f6c82f",null),u=h.exports;const p="search_history";var y={setStorage:function(t){localStorage.setItem(p,JSON.stringify(t))},getStorage:function(){const t=JSON.parse(localStorage.getItem(p));return t||[]},removeStorage:function(){localStorage.removeItem(p)}},f={name:"search_vue",components:{hotSearch:u},data:()=>({hotSearchList:[{article:{article_title:"Vue.js 教程"}},{article:{article_title:"React.js 入门"}},{article:{article_title:"JavaScript 高级教程"}},{article:{article_title:"前端开发技巧"}},{article:{article_title:"Node.js 和 Express"}}],searchHistory:y.getStorage(),searchInput:""}),methods:{onSearch(){if(""===this.searchInput)return;const t=this.searchHistory.indexOf(this.searchInput);if(-1===t)this.searchHistory.unshift(this.searchInput);else{const e=this.searchHistory[t];this.searchHistory.splice(t,1),this.searchHistory.unshift(e)}y.setStorage(this.searchHistory),this.$router.push({path:"/searchResult",query:{keyword:this.searchInput}})},deleteHistory(){y.removeStorage(),this.searchHistory=[]},handleSearchClick(t){const e=this.searchHistory.indexOf(t);this.searchHistory.splice(e,1),this.searchHistory.unshift(t),y.setStorage(this.searchHistory),this.$router.push({path:"/searchResult",query:{keyword:t}})}}},_=f,d=(0,o.A)(_,s,a,!1,null,"02391226",null),v=d.exports}}]);
//# sourceMappingURL=935.e4938746.js.map